{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/vscode-formatter-mishap","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"vscode自动格式化引起的惨案\",\n  \"date\": \"2019-02-28T22:09:59.000Z\",\n  \"tags\": [\"php\", \"vscode\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"del\", null, \"\\u5176\\u5B9E\\u6211\\u89C9\\u5F97\\u8FD9\\u4E0D\\u662F\\u6211\\u7684\\u9505\\u662FPHP\\u7684\\u9505\\u3002\"), mdx(\"del\", null, \"\\u5176\\u5B9E\\u6211\\u5B8C\\u5168\\u4E0D\\u60F3\\u5199\\u5173\\u4E8EPHP\\u7684\\u6587\\u7AE0\\u3002\"), mdx(\"h2\", null, \"Reproduce\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u590D\\u5236\\u4E0B\\u9762\\u8FD9\\u6BB5\\u4EE3\\u7801\\u8FDBvscode\\u3002\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"php\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-php line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-php\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token php language-php\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token delimiter important\"\n  }), \"<?php\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$result\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token function\"\n  }), \"array_values\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token function\"\n  }), \"array_intersect\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$array1\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$array2\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$result\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$result\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"[\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token number\"\n  }), \"0\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"]\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token delimiter important\"\n  }), \"?>\")), \"      \"), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"kbd\", null, \"Shift\"), \" + \", mdx(\"kbd\", null, \"Option\"), \" + \", mdx(\"kbd\", null, \"F\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u4EE3\\u7801\\u53D8\\u6210\\u4E86\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"php\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-php line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-php\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token php language-php\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token delimiter important\"\n  }), \"<?php\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$result\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token function\"\n  }), \"array_values\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token function\"\n  }), \"array_intersect\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$array1\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"$array2\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"[\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token number\"\n  }), \"0\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"]\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token delimiter important\"\n  }), \"?>\")), \" \"), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u597D\\u50CF\\u6CA1\\u4EC0\\u4E48\\u6BDB\\u75C5?\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u6839\\u636E\\u6587\\u6863 array dereferencing \\u53EA\\u6709PHP 5.4+\\u624D\\u80FD\\u4F7F\\u7528\\u3002\")), mdx(\"p\", null, \"\\u4E3A\\u4EC0\\u4E48PHP\\uFF1F\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u4E0D\\u8BF4\\u4E86\\u90FD\\u662F\\u6CEA\\u3002\")), mdx(\"p\", null, \"\\u4E3A\\u4EC0\\u4E48PHP 5.3\\uFF1F\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u4E0D\\u8BF4\\u4E86\\u90FD\\u662F\\u6CEA\\u3002\")), mdx(\"h2\", null, \"Sum up\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u771F\\u7231\\u751F\\u547D\\u8FDC\\u79BBPHP\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u56E2\\u961F\\u5408\\u4F5C\\u65F6format\\u5DE5\\u5177\\u548CIDE\\u8BBE\\u7F6E\\u5C3D\\u53EF\\u80FD\\u4FDD\\u6301\\u4E00\\u81F4\\u3002\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u8BBE\\u7F6E\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"formatter\"), \"/\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"linter\"), \"\\u5DE5\\u5177\\u65F6\\u8981\\u6CE8\\u610F\\u5BF9\\u5E94\\u8BED\\u8A00\\u7248\\u672C\\u3002\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5F31\\u7C7B\\u578B\\u8BED\\u8A00\\u771F\\u53EF\\u6015\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawBody":"---\ntitle: vscode自动格式化引起的惨案\ndate: 2019-02-28 22:09:59\ntags:\n - php\n - vscode\n---\n\n<del>其实我觉得这不是我的锅是PHP的锅。</del>\n\n<del>其实我完全不想写关于PHP的文章。</del>\n\n\n\n## Reproduce\n\n1. 复制下面这段代码进vscode。\n\n```php\n<?php\n$result = array_values(array_intersect($array1, $array2));\n$result = $result[0];\n?>      \n```\n\n2. <kbd>Shift</kbd> + <kbd>Option</kbd> + <kbd>F</kbd>\n\n3. 代码变成了\n\n```php\n<?php\n$result = array_values(array_intersect($array1, $array2))[0];\n?> \n```\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n好像没什么毛病?\n\n> 根据文档 array dereferencing 只有PHP 5.4+才能使用。\n\n为什么PHP？\n\n> 不说了都是泪。\n\n为什么PHP 5.3？\n\n> 不说了都是泪。\n\n## Sum up\n\n1. 真爱生命远离PHP\n2. 团队合作时format工具和IDE设置尽可能保持一致。\n3. 设置`formatter`/`linter`工具时要注意对应语言版本。\n4. 弱类型语言真可怕\n","frontmatter":{"title":"vscode自动格式化引起的惨案","date":"2019-02-28T22:09:59.000Z","tags":["php","vscode"]},"headings":[{"value":"Reproduce"},{"value":"Sum up"}]}},"pageContext":{"slug":"posts/vscode-formatter-mishap","prev":{"id":"ebbc26fd-5824-51a7-bf3d-7cdf85b29520","frontmatter":{"title":"Arch Linux Thinkpad x230 - Hardware","date":"2019-03-24T01:24:50.000Z","tags":["arch linux","thinkpad"]},"fields":{"slug":"posts/arch-linux-with-thinkpad-x230-hardware"}},"next":{"id":"14f1ff24-4a1c-5004-8fe6-e9897c786220","frontmatter":{"title":"useReducer & Typescript","date":"2019-02-19T05:07:13.000Z","tags":["react","typescript"]},"fields":{"slug":"posts/useReducer&Typescript"}},"identifier":"5c3a3d72-3e1f-5bec-8831-c8058040e376"}},"staticQueryHashes":["1132682437","3649515864","764694655"]}