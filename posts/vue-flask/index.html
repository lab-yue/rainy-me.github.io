<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.32.3"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">vue+flask 网站搭建 | 浅色圆锥曲线爱好者</title><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@4/distr/fira_code.css"/><link data-react-helmet="true" rel="canonical" href="https://blog.yue.coffee/posts/vue-flask"/><meta data-react-helmet="true" name="description" content="blog of yue: 上周用 vue 做前端、flask 做后端独立做了一个个人网站，大致做了登录验证、词汇查询储存、和在线聊天室几个部分。因为是第一次接触 vue 查阅资料还是折腾蛮久。 (Vue, Flask, ...rest) =&gt; website &amp;nbsp;前言 在中文环境里查Vue和Flask相关的教程时，大部分都有缺失或者不..."/><meta data-react-helmet="true" property="og:title" content="vue+flask 网站搭建"/><meta data-react-helmet="true" property="og:description" content="blog of yue: 上周用 vue 做前端、flask 做后端独立做了一个个人网站，大致做了登录验证、词汇查询储存、和在线聊天室几个部分。因为是第一次接触 vue 查阅资料还是折腾蛮久。 (Vue, Flask, ...rest) =&gt; website &amp;nbsp;前言 在中文环境里查Vue和Flask相关的教程时，大部分都有缺失或者不..."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="yue"/><meta data-react-helmet="true" name="twitter:title" content="vue+flask 网站搭建"/><meta data-react-helmet="true" name="twitter:description" content="blog of yue: 上周用 vue 做前端、flask 做后端独立做了一个个人网站，大致做了登录验证、词汇查询储存、和在线聊天室几个部分。因为是第一次接触 vue 查阅资料还是折腾蛮久。 (Vue, Flask, ...rest) =&gt; website &amp;nbsp;前言 在中文环境里查Vue和Flask相关的教程时，大部分都有缺失或者不..."/><style data-styled="" data-styled-version="5.2.1">.NfRVw{font-size:1rem;background-color:#333;box-shadow:0 1px 3px #000;color:#fff;padding:0.5rem;}/*!sc*/
data-styled.g14[id="footer__GlobalFooter-sc-6bj9pp-0"]{content:"NfRVw,"}/*!sc*/
.jWShHr{background:#333;box-shadow:0 0 3px #000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;color:#ccc;text-align:left;font-size:1rem;padding:0.5rem;}/*!sc*/
data-styled.g15[id="header__GlobalHeader-sc-1d76vqs-0"]{content:"jWShHr,"}/*!sc*/
.hSDgvG > a{margin:0 10px;}/*!sc*/
@media screen and (max-width:700px){.hSDgvG{display:none;}}/*!sc*/
data-styled.g17[id="header__RightCorner-sc-1d76vqs-2"]{content:"hSDgvG,"}/*!sc*/
@font-face{font-family:'great-vibes-merge';unicode-range:U+0021-007A;src:url('/fonts/GreatVibes-Regular.woff2') format('woff2');}/*!sc*/
@font-face{font-family:'noto-serif-sc';src:url('/fonts/NotoSerifSC-Regular.subset.woff2') format('woff2');unicode-range:U+3000-9FFF;}/*!sc*/
*{box-sizing:border-box;-ms-overflow-style:none;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;}/*!sc*/
*::selection{color:#fff;background:skyblue;}/*!sc*/
::-webkit-scrollbar{display:none;width:0px;background:transparent;}/*!sc*/
html,body{font-family:sans-serif;text-align:center;font-size:20px;color:#ffffff;margin:0;padding:0;width:100%;height:100%;background-color:#1d1d1d;}/*!sc*/
ul{margin:0;padding:0;list-style:none;}/*!sc*/
a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
#___gatsby{width:100%;min-height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
#___gatsby > div{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;min-height:100%;}/*!sc*/
main{padding-bottom:3rem;}/*!sc*/
data-styled.g19[id="sc-global-cEbgiz1"]{content:"sc-global-cEbgiz1,"}/*!sc*/
.ctnZPS pre{background-color:#333;padding:1rem;font-size:0.9rem;overflow:scroll;text-align:left;border:0;box-shadow:0 0 10px #111;border-radius:10px;}/*!sc*/
.ctnZPS pre code{font-family:"Fira Code";background:none;text-shadow:none;}/*!sc*/
.ctnZPS pre code .keyword{color:hotpink;}/*!sc*/
.ctnZPS pre code .punctuation{color:skyblue;}/*!sc*/
.ctnZPS pre code .tag{color:hotpink;}/*!sc*/
.ctnZPS pre code .builtin{color:mediumpurple;}/*!sc*/
.ctnZPS pre code .operator{color:hotpink;}/*!sc*/
.ctnZPS pre code .function{color:#ffd54f;}/*!sc*/
.ctnZPS pre code .constant{color:mediumpurple;}/*!sc*/
.ctnZPS pre code .parameter{color:#fb8c00;}/*!sc*/
.ctnZPS pre code .string{color:yellowgreen;}/*!sc*/
.ctnZPS pre code .comment{color:#555;}/*!sc*/
.ctnZPS pre code .class-name{color:skyblue;}/*!sc*/
data-styled.g20[id="codeBlock-sc-12lvfgr-0"]{content:"ctnZPS,"}/*!sc*/
.iGRAlZ{margin:0 auto;width:80%;padding-bottom:8rem;}/*!sc*/
@media screen and (max-width:700px){.iGRAlZ{width:90%;}}/*!sc*/
data-styled.g21[id="comments__CommentBlock-sc-9weum8-0"]{content:"iGRAlZ,"}/*!sc*/
.issIJo{line-height:1.5;margin:0 auto;padding-bottom:1rem;text-align:left;max-width:1000px;word-break:break-all;width:90%;color:#ccc;font-family:"Fira Code";}/*!sc*/
.issIJo > *{max-width:100%;}/*!sc*/
.issIJo h2,.issIJo h3,.issIJo h4,.issIJo h5,.issIJo h6{margin-top:3rem;color:#eee;position:relative;}/*!sc*/
.issIJo h2::before,.issIJo h3::before,.issIJo h4::before,.issIJo h5::before,.issIJo h6::before{content:"○";position:absolute;color:#607d8b;top:0;left:-1.5rem;}/*!sc*/
.issIJo h2::before{content:"#";}/*!sc*/
.issIJo h3::before{content:"◆";}/*!sc*/
.issIJo del{color:#888;margin:0 5px;}/*!sc*/
.issIJo img{-webkit-transition:0.3s all ease-in-out;transition:0.3s all ease-in-out;display:block;margin:2rem auto;max-width:100%;object-fit:contain;opacity:0.8;}/*!sc*/
.issIJo img:hover{opacity:1;}/*!sc*/
.issIJo a{position:relative;display:inline-block;z-index:1;-webkit-transition:0.2s all ease-in-out;transition:0.2s all ease-in-out;-webkit-text-decoration:underline;text-decoration:underline;text-underline-offset:5px;-webkit-text-decoration-color:#607d8b;text-decoration-color:#607d8b;}/*!sc*/
.issIJo a::after{-webkit-transition:0.2s all ease-in-out;transition:0.2s all ease-in-out;content:" ";margin:2px 0;position:absolute;width:100%;height:0;bottom:0;background-color:transparent;left:0;z-index:-1;}/*!sc*/
.issIJo a:hover{color:#fff;text-shadow:0 0 3px #000;}/*!sc*/
.issIJo a:hover::after{height:100%;z-index:-1;background-color:#607d8b;}/*!sc*/
.issIJo ul{list-style:disc;padding-left:1rem;}/*!sc*/
.issIJo table{margin:3rem auto;border-collapse:collapse;}/*!sc*/
.issIJo table th,.issIJo table tr,.issIJo table td{padding:10px;border:3px solid #333;}/*!sc*/
.issIJo blockquote{padding:1rem;margin:1rem 0;background-color:#333;border-left:10px solid #455a64;border-top-left-radius:8px;border-bottom-left-radius:8px;box-shadow:0 0 5px #000;}/*!sc*/
.issIJo pre code::after{background:none;}/*!sc*/
.issIJo code{text-shadow:1px 1px 4px #000;color:#fff;word-break:break-word;margin:4px 4px;display:inline-block;padding:0 5px;font-family:"Fira Code";position:relative;z-index:0;}/*!sc*/
.issIJo code::after{-webkit-transition:0.2s all ease-in-out;transition:0.2s all ease-in-out;content:"";border-radius:5px;opacity:0.8;z-index:-1;width:100%;height:100%;position:absolute;top:0;left:0;background-image:linear-gradient(100deg,#ec407a 47%,#00bcd4);}/*!sc*/
.issIJo code:hover::after{opacity:1;}/*!sc*/
.issIJo iframe{width:80%;margin:0 auto;display:inherit;}/*!sc*/
@media screen and (max-width:700px){.issIJo h2::before,.issIJo h3::before,.issIJo h4::before,.issIJo h5::before,.issIJo h6::before{top:0.2rem;font-size:1rem;left:-1rem;}.issIJo iframe{max-width:100%;width:100%;}}/*!sc*/
data-styled.g22[id="markdownContent__MarkdownContentBlock-sc-1c6mo1j-0"]{content:"issIJo,"}/*!sc*/
.gGdKwU{font-size:inherit;padding:1rem;font-family:'great-vibes-merge','noto-serif-sc';-webkit-filter:drop-shadow(0 0 3px #000);filter:drop-shadow(0 0 3px #000);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:inline-block;font-weight:normal;text-align:center;background:linear-gradient(180deg,skyblue,#e91e63);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}/*!sc*/
@media screen and (max-width:700px){.gGdKwU{font-size:4rem;}}/*!sc*/
data-styled.g23[id="gradientFont-sc-6873be-0"]{content:"gGdKwU,"}/*!sc*/
.cyZxmM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:4rem;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}/*!sc*/
.cyZxmM a{margin:1rem;}/*!sc*/
@media screen and (max-width:700px){.cyZxmM{margin:0;margin-bottom:3rem;}.cyZxmM a{margin:1rem 5px;}}/*!sc*/
data-styled.g53[id="pagination__PaginationNav-sc-1nud1ku-0"]{content:"cyZxmM,"}/*!sc*/
.iENrYe{-webkit-transition:0.5s all cubic-bezier(0.4,0,0.2,1);transition:0.5s all cubic-bezier(0.4,0,0.2,1);box-shadow:#0 0 5px #000;background:#333;color:none;border-radius:5px;padding:0.5rem;background-size:200%,150%;}/*!sc*/
.iENrYe:hover{background-color:#e91e63;}/*!sc*/
data-styled.g54[id="pagination__PaginationLink-sc-1nud1ku-1"]{content:"iENrYe,"}/*!sc*/
.kUfmsL{font-size:4rem;word-break:break-word;margin-bottom:1rem;}/*!sc*/
@media screen and (max-width:700px){.kUfmsL{font-size:4rem;}}/*!sc*/
data-styled.g58[id="post__PostTitle-sc-1xlzpqm-0"]{content:"kUfmsL,"}/*!sc*/
.entpDK{font-size:1.5rem;color:#666;margin-bottom:2rem;display:inline-block;text-shadow:0 0 1rem #000;}/*!sc*/
data-styled.g59[id="post__PostDate-sc-1xlzpqm-1"]{content:"entpDK,"}/*!sc*/
</style><link rel="icon" href="/favicon-32x32.png?v=9cddaf2e6e675db0946c978328f41acf" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#333333"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=9cddaf2e6e675db0946c978328f41acf"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=9cddaf2e6e675db0946c978328f41acf"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=9cddaf2e6e675db0946c978328f41acf"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=9cddaf2e6e675db0946c978328f41acf"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=9cddaf2e6e675db0946c978328f41acf"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=9cddaf2e6e675db0946c978328f41acf"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=9cddaf2e6e675db0946c978328f41acf"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=9cddaf2e6e675db0946c978328f41acf"/><link as="script" rel="preload" href="/webpack-runtime-7c8fc6a8f480e9e53114.js"/><link as="script" rel="preload" href="/framework-7bbb7991de2c9dccc6ce.js"/><link as="script" rel="preload" href="/app-bb14aad2b26d4ed99d7d.js"/><link as="script" rel="preload" href="/2c282eaea363d2bbd23f6fd873d3621ed8cccc49-62c08aac037425a564a3.js"/><link as="script" rel="preload" href="/2595aca8b7d3d21cc09d2fd82059f82ae42ef8db-6504ffc2139a13510264.js"/><link as="script" rel="preload" href="/component---src-templates-post-index-tsx-c5fba1cdc8dd9b37f87d.js"/><link as="fetch" rel="preload" href="/page-data/posts/vue-flask/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1132682437.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/764694655.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><header class="header__GlobalHeader-sc-1d76vqs-0 jWShHr"><span class="header__LeftCorner-sc-1d76vqs-1 hlA-dLO"><a href="/">浅色圆锥曲线爱好者</a></span><span class="header__RightCorner-sc-1d76vqs-2 hSDgvG"><a href="/posts">Posts</a><a href="/notes">Notes</a><a href="/aboutme">About</a></span></header><main style="opacity:0"><div><h1 class="post__PostTitle-sc-1xlzpqm-0 kUfmsL"><span class="gradientFont-sc-6873be-0 gGdKwU">vue+flask 网站搭建</span></h1><time class="post__PostDate-sc-1xlzpqm-1 entpDK">2018-01-04</time><article class="codeBlock-sc-12lvfgr-0 markdownContent__MarkdownContentBlock-sc-1c6mo1j-0 ctnZPS issIJo"><p>上周用 vue 做前端、flask 做后端独立做了一个个人网站，大致做了登录验证、词汇查询储存、和在线聊天室几个部分。因为是第一次接触 vue 查阅资料还是折腾蛮久。</p><p style="font-size:25px;font-family:Lucida Console, Monaco, monospace">(Vue, Flask, ...rest) =&gt; website</p><h2><span class="vue"># </span>前言 </h2><hr/><p>想想 17 年 4 月的时候做了个<a href="https://minatsuki-yui.github.io/teambuilder/redo.html">组队工具</a>,虽然没完全做完，那时候一开始是想用<code class="language-text">Bootstrap</code>的，但还是用不习惯，最后大部分都是<code class="language-text">jQuery</code>以及硬写的<code class="language-text">css</code>和<code class="language-text">html</code>。</p><p>现在去查前端资料大部分都是<code class="language-text">Vue</code>、<code class="language-text">React</code>、<code class="language-text">Angular</code>这些，相关联的技术也变化了很多，比如<code class="language-text">Node.js</code>和<code class="language-text">npm</code>管理工具、<code class="language-text">Webpack</code>、<code class="language-text">Babel</code>这些，为了部署方便甚至差点去学<code class="language-text">docker</code>。<del>虽然博客在用的 hexo 就是基于 Node.js</del></p><p>当时写了无数的<code class="language-text">var</code>，这次在使用<code class="language-text">web storm</code>的 IDE 的时候，每一个都提示改成<code class="language-text">ES6</code>标准的<code class="language-text">const</code>或者<code class="language-text">let</code>，箭头函数的出境率也比原来高了很多。前端的世界变化速度真是惊人。</p><p>前端在<code class="language-text">Vue</code>和<code class="language-text">React</code>之间考虑了一会儿，还是选择了<code class="language-text">Vue</code>，因为学习成本相对低一些，而我也并不是很习惯<code class="language-text">CSS in JS</code>，但是不知道为什么写 js 总是没有写 python 开心，很多地方都得绕弯实现 <del> 比如要返回一个列表里的随机项 </del>( ；´Д ｀)，但是<code class="language-text">Vue</code>用起来还算舒服。</p><p>后端在<code class="language-text">Flask</code>和<code class="language-text">Django</code>之间也考虑了一会儿，还是选择了<code class="language-text">Flask</code>，因为在有了<code class="language-text">Vue</code>前端渲染和路由之后基本上自己需要的只是一个<code class="language-text">RESTFUL API</code>，而<code class="language-text">Django</code>稍微有点太重了。</p><h2><span class="vue"># </span>演示 </h2><span class="pitfall">✡ </span>图片仅供参考，无意侵犯版权。以及做 GIF 时咖啡店网不是很好，实际上反馈会好得多。<p>图 1 <a href="https://www.pixiv.net/member_illust.php?mode=medium&amp;illust_id=50945552">https://www.pixiv.net/member_illust.php?mode=medium&amp;illust_id=50945552</a></p><p>图 2 <a href="https://www.pixiv.net/member_illust.php?mode=medium&amp;illust_id=64495434">https://www.pixiv.net/member_illust.php?mode=medium&amp;illust_id=64495434</a></p><p><img src="https://storage1.cuntuku.com/2018/01/04/Kw736.gif"/></p><p>添加时会自动判断语言，中文查 wiki，英文有道，日文的话大辞林。</p><p><img src="https://storage4.cuntuku.com/2018/01/04/KwIZr.gif"/></p><p><img src="https://storage7.cuntuku.com/2018/01/04/Kwwcd.gif"/></p><h2><span class="vue"># </span>传送门 </h2><hr/><p>在中文环境里查<code class="language-text">Vue</code>和<code class="language-text">Flask</code>相关的教程时，大部分都有缺失或者不完整，几乎很难找到一个完整能跟着做完的项目，最后还是读了一个英文的。因为自己理解的也不是很透彻，并不时很想把自己经验完整写出来误导他人，在这里把这篇推荐给需要的人：</p><p><a href="https://codeburst.io/full-stack-single-page-application-with-vue-js-and-flask-b1e036315532">Full-stack single page application with Vue.js and Flask</a></p><p>以及<code class="language-text">Vue2</code>的<a href="https://cn.vuejs.org/v2/guide/">官方文档</a>……虽然有中文是好事，但是要用起来还是需要许多 googling。</p><p>相关联的附带技术大致有：<br/>
<code class="language-text">Vuex</code>、<code class="language-text">axios</code>、<code class="language-text">socket.io</code>、<code class="language-text">certbot</code>、<code class="language-text">vue-awesome</code>……</p><ol><li><a href="https://vuex.vuejs.org/zh-cn/intro.html">Vuex 官方文档</a>（数据管理）</li><li><a href="https://router.vuejs.org/zh-cn/essentials/getting-started.html">Vue-router</a></li><li><a href="https://ykloveyxk.github.io/2017/02/25/axios%E5%85%A8%E6%94%BB%E7%95%A5/">axios 全攻略</a>(实现 ajax 数据请求）</li><li><a href="https://segmentfault.com/a/1190000009369312">Socket.io</a>（聊天室相关、参考 vue 前端部分）</li><li><a href="https://github.com/miguelgrinberg/Flask-SocketIO">Flask-SocketIO</a>(socket.io 的 flask 后端)</li><li><a href="https://coolshell.cn/articles/18094.html">如何免费的让网站启用 HTTPS</a>(启用 Let&#x27;s Encrypt 的 https)</li><li><a href="https://github.com/Justineo/vue-awesome">vue-awesome</a>(icon)</li></ol><h2><span class="vue"># </span>爬坑与一些微代码实现</h2><span class="pitfall">✡ </span>因为是复盘所以可能顺序比较乱<h3><span class="pitfall">⇝ </span>1.跨域 </h3>在开发时flask和vue分别在两个端口运行，需要做一下跨域访问。<p>可以使用<code class="language-text">flask_cors</code></p><h3><span class="pitfall">⇝ </span> 2.axios发送的json数据</h3><p>flask 收不到时有两种解决办法：</p><p>1.在<code class="language-text">main.js</code>设置全局发送类型</p><div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>post<span class="token punctuation">[</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span>
  <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span></span></pre></div><p>2.在<code class="language-text">.vue</code>文件中具体使用 qs 的 stringfy</p><p>(需要先在<code class="language-text">main.js</code>设置<code class="language-text">Vue.prototype.$http = axios;</code>)</p><div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">&#x27;qs&#x27;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/...&#x27;</span><span class="token punctuation">,</span>qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>yourdata<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span>
            <span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div><h3><span class="pitfall">⇝ </span>3.设置全局body部分背景 </h3><p>在<code class="language-text">app.vue</code>中设置<code class="language-text">beforeCreate</code></p><div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token function-variable function">beforeCreate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&#x27;xxx&#x27;</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div><div class="gatsby-highlight" data-language="css"><pre style="counter-reset:linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">&lt;style&gt;
body.xxx</span><span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;./assets/xxxx.jpeg&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
  <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span>cover<span class="token punctuation">;</span>
  <span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
&lt;/style&gt;</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><h3><span class="pitfall">⇝ </span>4.table中transition-group动画设置 </h3><p>使用<code class="language-text">tbody</code>标签。大致如下:</p><iframe src="http://jsfiddle.net/174t0xa1/embedded/?username=minatsuki"></iframe><h3><span class="pitfall">⇝ </span>5. v-for 标签的绑定</h3><p>多使用一个<code class="language-text">index</code>作为 active 标记</p><p><a href="https://stackoverflow.com/questions/45198393/v-for-causing-actions-to-be-applied-to-all-divs">https://stackoverflow.com/questions/45198393/v-for-causing-actions-to-be-applied-to-all-divs</a></p><iframe src="http://jsfiddle.net/nqhgpv5y/embedded/?username=minatsuki"></iframe><h3><span class="pitfall">⇝ </span>6.登录前路由守卫 </h3>参考[https://www.jianshu.com/p/8e789516af5e](https://www.jianshu.com/p/8e789516af5e)<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset:linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span>isLogin <span class="token operator">===</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><h3><span class="pitfall">⇝ </span>7.生命周期由于名称问题无效 </h3><p><code class="language-text">methods</code>,<code class="language-text">created</code>之类的，注意时态和复数。。写成<code class="language-text">method</code>,<code class="language-text">create</code>之类谁也救不了。</p><h3><span class="pitfall">⇝ </span>8.为flask配置ssl证书 </h3><p><a href="https://blog.miguelgrinberg.com/post/running-your-flask-application-over-https">Running Your Flask Application Over HTTPS</a></p><div class="gatsby-highlight" data-language="python"><pre style="counter-reset:linenumber NaN" class="language-python line-numbers"><code class="language-python"> <span class="token comment">#app.run(host=&#x27;0.0.0.0&#x27;,</span>
 port<span class="token operator">=</span><span class="token number">443</span><span class="token punctuation">,</span>
 ssl_context<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&#x27;/etc/letsencrypt/live/..(your domain)../fullchain.pem&#x27;</span><span class="token punctuation">,</span>
 <span class="token string">&#x27;/etc/letsencrypt/live/..(your domain)../privkey.pem&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div><h3><span class="pitfall">⇝ </span>9.可编辑table </h3><iframe src="http://jsfiddle.net/xr630a8t/embedded/?username=minatsuki"></iframe><h3><span class="pitfall">⇝ </span>10.有关`socket.io` </h3><p>vue 中：</p><iframe src="http://jsfiddle.net/4h68rkwc/embedded/?username=minatsuki"></iframe><p>Flask 中：</p><p>不知道是不是前端 socketio 版本问题，虽然是 npm 安装的，需要后台处理编码。不然中文会乱码。</p><p>如下面的<code class="language-text">.encode(&#x27;Latin1&#x27;).decode(&#x27;utf-8&#x27;)</code></p><div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">
app = Flask(__name__,
            static_folder = &quot;../dist/static&quot;,
            template_folder = &quot;../dist/&quot;)

socketio = SocketIO(app)


@socketio.on(&#x27;newMsg&#x27;, namespace=&#x27;/&#x27;)
def test_message(message):
    emit(&#x27;msg&#x27;, {&#x27;who&#x27;: message[&#x27;who&#x27;],&#x27;data&#x27;: message[&#x27;data&#x27;].encode(&#x27;Latin1&#x27;).decode(&#x27;utf-8&#x27;)}, broadcast=True)

socketio.run(app,host=&#x27;0.0.0.0&#x27;,
             port=443,
             sssl_context=(&#x27;...pem&#x27;,&#x27;...pem&#x27;))
</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div><h3><span class="pitfall">⇝ </span>11.有关webstorm不停的indexing。。</h3>上两个评论作为吐槽。。[链接](https://intellij-support.jetbrains.com/hc/en-us/community/posts/207671405-stop-Indexing-please-)<p><img src="https://farm5.staticflickr.com/4680/38784054184_d27a122aa1.jpg"/></p><p><img src="https://farm5.staticflickr.com/4689/24625849217_66a963e9c2_z.jpg"/>
个人解决办法是尽可能多的文件和文件夹设置 exclude。比如 node.js 自带的文件。
假如 pycharm 和 webstorm 一起使用的话会互相影响。。暂时没好的办法。</p><h2><span class="vue"># </span>总结 </h2><ol><li>虽然还没完全做完，但估计还会继续维护下去。</li><li>一个人完成全部虽然挺累的，但是也有很大收获。非常期待以后能和大神合作。</li><li>css 还是才用了普通的硬写，下次可以尝试一下<code class="language-text">SASS</code>什么的</li><li>事实上因为对 python 比较熟悉，90%的时间都在写前端。后端怎么简单怎么来，也直接接进了个人机器人的项目<a href="https://github.com/minatsuki-yui/faya">faya</a>。因而文中 python 部分比较简略。</li><li>每个部分其实都可以拆出来写一篇文章，然而这里只做简要记录。如果有不懂或者疑问，欢迎自由留言。</li></ol></article></div><nav class="pagination__PaginationNav-sc-1nud1ku-0 cyZxmM"><a href="/posts/launchpad-icon-deleter"><span class="pagination__PaginationLink-sc-1nud1ku-1 iENrYe">&lt; Launchpad图标删除</span></a><a href="/posts/read-treat-charge"><span class="pagination__PaginationLink-sc-1nud1ku-1 iENrYe">读书、氪金与治病&lt;del&gt;（误）&lt;/del&gt; &gt;</span></a></nav><div class="comments__CommentBlock-sc-9weum8-0 iGRAlZ"><div shortname="yue-blog" config="[object Object]" id="disqus_thread"></div></div></main></div><footer class="footer__GlobalFooter-sc-6bj9pp-0 NfRVw">© <!-- -->2021</footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/vue-flask";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2ffdf0a31820fc928c1c.js"],"app":["/app-bb14aad2b26d4ed99d7d.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-47c8d8b7529f7a984452.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-40668c83a594549f10d6.js"],"component---src-pages-aboutme-tsx":["/component---src-pages-aboutme-tsx-27982e3f40e0bd53cac2.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-cc088881bbd1358fb0fb.js"],"component---src-pages-ogp-tsx":["/component---src-pages-ogp-tsx-aea11a3cf5dc1a67f1e4.js"],"component---src-templates-note-archive-tsx":["/component---src-templates-note-archive-tsx-3686b55d51763c598ab8.js"],"component---src-templates-note-index-tsx":["/component---src-templates-note-index-tsx-700599f5ee1dcddaa7d5.js"],"component---src-templates-post-archive-tsx":["/component---src-templates-post-archive-tsx-55bf7d32f89e4363fcb1.js"],"component---src-templates-post-index-tsx":["/component---src-templates-post-index-tsx-c5fba1cdc8dd9b37f87d.js"]};/*]]>*/</script><script src="/polyfill-2ffdf0a31820fc928c1c.js" nomodule=""></script><script src="/component---src-templates-post-index-tsx-c5fba1cdc8dd9b37f87d.js" async=""></script><script src="/2595aca8b7d3d21cc09d2fd82059f82ae42ef8db-6504ffc2139a13510264.js" async=""></script><script src="/2c282eaea363d2bbd23f6fd873d3621ed8cccc49-62c08aac037425a564a3.js" async=""></script><script src="/app-bb14aad2b26d4ed99d7d.js" async=""></script><script src="/framework-7bbb7991de2c9dccc6ce.js" async=""></script><script src="/webpack-runtime-7c8fc6a8f480e9e53114.js" async=""></script></body></html>